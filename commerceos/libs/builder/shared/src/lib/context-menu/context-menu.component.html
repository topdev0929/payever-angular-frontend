<div class="menu">
  <div class="menu__header">
    <span class="menu__title">{{ 'builder-app.common.options' | translate }}</span>
    <button class="menu__close" (click)="event.emit('close')">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
        <g fill="none" fill-rule="evenodd">
          <path fill="#636363" d="M9.75 0c5.385 0 9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S0 15.135 0 9.75 4.365 0 9.75 0zm4.303 5.447c-.325-.324-.833-.354-1.19-.088l-.103.088-3.01 3.01-3.01-3.01-.102-.088c-.358-.266-.866-.236-1.19.088-.358.357-.358.936 0 1.293l3.009 3.01-3.01 3.01-.081.094c-.273.358-.246.871.081 1.199.325.324.833.354 1.19.088l.103-.088 3.01-3.011 3.01 3.01.102.09c.358.265.866.235 1.19-.09.358-.356.358-.935 0-1.292l-3.01-3.01 3.01-3.01.082-.094c.273-.358.246-.871-.081-1.199z" />
        </g>
      </svg>
    </button>
  </div>
  <ul>
    <ng-container *ngIf="menu$ | async as menu">
      <li class="menu__item" *ngIf="menu.canCopy" (click)="execCommand(commands.Copy)">
        <span>{{ 'builder-app.actions.copy' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canPaste" (click)="execCommand(commands.Paste)">
        <span>{{ 'builder-app.actions.paste' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canSave" (click)="saveShape()">
        <span>{{ 'builder-app.actions.save' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canUngroup" (click)="execCommand(commands.Ungroup)" >
        <span>{{ 'builder-app.context_menu.ungroup' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canGroup" (click)="execCommand(commands.Group)">
        <span>{{ 'builder-app.context_menu.group' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canBringFront" (click)="execCommand(commands.BringFront)" >
        <span>{{ 'builder-app.context_menu.bring_front' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.canSendBack" (click)="execCommand(commands.SendBack)">
        <span>{{ 'builder-app.context_menu.send_back' | translate }}</span>
      </li>
      <li class="menu__item red" *ngIf="menu.canDelete" (click)="delete()">
        <span>{{ 'builder-app.actions.delete' | translate }}</span>
      </li>
      <li class="menu__item" *ngIf="menu.addSection" (click)="addSection()">
        <span>{{ 'builder-app.context_menu.add_section' | translate }}</span>
      </li>
      <li class="menu__item red" *ngIf="menu.canClearStyles" (click)="execCommand(commands.ClearStyles)">
        <span>{{ 'builder-app.context_menu.clear_styles' | translate }}</span>
      </li>
    </ng-container>
  </ul>
</div>
