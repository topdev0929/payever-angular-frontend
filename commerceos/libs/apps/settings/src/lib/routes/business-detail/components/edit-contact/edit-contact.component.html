<form
  class="form-container"
  [formGroup]="contactForm"
  #form="ngForm"
  (ngSubmit)="onSave()"
>
  <peb-form-background>
    <div class="column-wrapper">
      <peb-select
        selectType="label"
        label="{{ formTranslationsService.getFormControlLabel('salutation') }}"
        formControlName="salutation"
        [isFieldInvalid]="form.submitted && contactForm.get('salutation').invalid"
        [errorMessage]="formTranslationsService.getFormControlErrorMessage('salutation')"
      >
        <peb-select-option
          class="select-options"
          *ngFor="let item of formTranslationsService.salutation"
          value="{{ item.value }}"
          label="{{ item.label }}"
        ></peb-select-option>
      </peb-select>
      <peb-form-field-input
        label="{{ formTranslationsService.getFormControlLabel('first_name') }}"
        class="divider-border"
        appearance="label"
        [isFieldInvalid]="form.submitted && contactForm.get('firstName').invalid"
        [errorMessage]="fieldErrorMessage('firstName')"
      >
        <input
          type="text"
          pebInput
          formControlName="firstName"
        />
      </peb-form-field-input>
      <peb-form-field-input
        label="{{ formTranslationsService.getFormControlLabel('last_name') }}"
        appearance="label"
        [isFieldInvalid]="form.submitted && contactForm.get('lastName').invalid"
        [errorMessage]="fieldErrorMessage('lastName')"
      >
        <input
          type="text"
          pebInput
          formControlName="lastName"
        />
      </peb-form-field-input>
    </div>
    <peb-form-field-input
      class="two-column-input"
      label="{{ formTranslationsService.getFormControlLabel('phone') }}"
      appearance="label"
      [isFieldInvalid]="form.submitted && contactForm.get('phone').hasError('pattern')"
      [errorMessage]="formTranslationsService.getFormControlErrorMessage('phone')"
    >
      <input
        type="text"
        pebInput
        formControlName="phone"
      />
    </peb-form-field-input>
    <peb-form-field-input
      class="two-column-input"
      label="{{ formTranslationsService.getFormControlLabel('additional_phone') }}"
      appearance="label"
      [isFieldInvalid]="form.submitted && contactForm.get('additionalPhone').hasError('pattern')"
      [errorMessage]="formTranslationsService.getFormControlErrorMessage('additional_phone')"
    >
      <input
        type="text"
        pebInput
        formControlName="additionalPhone"
      />
    </peb-form-field-input>
    <peb-form-field-input label="{{ formTranslationsService.getFormControlLabel('fax') }}" appearance="label">
      <input
        type="text"
        pebInput
        formControlName="fax"
      />
    </peb-form-field-input>
    <pe-picker
      class="email-picker"
      #picker
      type="email"
      [label]="formTranslationsService.getFormControlLabel('email')"
      [buttonLabel]="'form.create_form.contact.email.button' | translate"
      (buttonClick)="addEmail()"
      formControlName="emails"
      (onKeyUp)="onKeyUpPicker($event)"
      [isFieldInvalid]="incorrectMail || sameMail"
      [errorMessage]="emailErrorMessage"
    >
    </pe-picker>
  </peb-form-background>
  <button #submitTrigger type="submit" class="hidden"></button>
</form>
