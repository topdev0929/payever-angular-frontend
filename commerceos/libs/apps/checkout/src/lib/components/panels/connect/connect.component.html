<div class="page__container">

  <div class="page__main-title" translate="">info_boxes.panels.connect</div>

  <ng-container *ngIf="onlyContent" [ngTemplateOutlet]="body"></ng-container>

  <div class="pe-info-box-container-fixed pe-checkout-connect" *ngIf="!onlyContent">
    <pe-info-box
      class="pe-info-box-header-padding"
      [fixed]="false"
      [transparent]="true"
      [withHeader]="false"
      [withFooter]="false"
      [withPadding]="false"
      [notFullwidthOnMobile]="true"
      [roundBorder]="true">
      <ng-container content>
        <ng-container [ngTemplateOutlet]="body"></ng-container>
      </ng-container>
    </pe-info-box>
    <button
      peb-button
      *ngIf="connectsReady"
      class="add-button"
      (click)="clickedIntegrationAddButton(categories.Communications)">
      <pe-progress-button-content
        [loading]="loadingConnect | async"
        [spinnerDiameter]="15"
        [spinnerStrokeWidth]="2">
        {{ 'actions.add' | translate }}
      </pe-progress-button-content>
    </button>
  </div>

  <ng-template #body>
    <checkout-expansion-menu-list
      [integrations]="connects$ | async"
      [enabledIntegrations]="$enabledIntegrations | async"
      [category]="categories.Communications"
      [isShowToggleButton]="true"
      [isShowAddButton]="false"
      [noPaddingLeft]="onlyContent"
      [sizeMd]="!onlyContent"
      (clickedToggleButton)="onToggleIntegration($event)"
      (clickedIntegrationButton)="openApp($event)"
      (clickedAddButton)="clickedIntegrationAddButton($event)">
    </checkout-expansion-menu-list>
  </ng-template>
</div>
