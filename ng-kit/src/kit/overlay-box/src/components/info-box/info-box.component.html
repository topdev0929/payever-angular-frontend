<div class="info-box" [class.not-fullwidth-mobile]="notFullwidthOnMobile">
  <mat-card class="mat-card-transparent"
            [class.info-box-background-blur]="backdropFilterBlur"
            [class.mat-card-backdrop-filter-blur]="backdropFilterBlur"
            [class.mat-card-transparent-container-based]="containerBased"
            [class.mat-card-transparent-card-scrollable]="containerBased && contentScrollable"
            [class.with-margin]="(needMargin$ | async)"
            [class.mat-card-transparent-avatar]="hasAvatar"
            [class.mat-card-transparent-border-round]="roundBorder"
            [class.mat-card-border-md]="true"
            [class.mat-card-with-header]="withHeader"
            [class.no-box-shadow]="transparent"
  >
    <mat-card-header *ngIf="withHeader" [class.header-sm]="containerBased">
      <pe-navbar [controls]="headerControls"></pe-navbar>
    </mat-card-header>
    <mat-card-content [class.mat-card-content-padding-sm]="withPadding"
                      [class.content-scrollable]="containerBased && contentScrollable"
                      [class.mat-card-content-no-background-color]="noBackgroundColor">
      <div class="content-wrapper">
        <div class="loading-spinner" *ngIf="loading$ | async">
          <mat-progress-spinner [strokeWidth]="spinnerConfig.strokeWidth"
                                [diameter]="spinnerConfig.diameter"
                                [mode]="'indeterminate'"
          ></mat-progress-spinner>
        </div>
        <div [style.visibility]="(loading$ | async) ? 'hidden' : 'visible'"
             [style.opacity]="(loading$ | async) ? '0' : '1'">
          <ng-content select="[content]"></ng-content>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions *ngIf="withFooter" [class.mat-card-actions-transparent]="transparentFooter">
      <ng-content select="[footer]"></ng-content>
    </mat-card-actions>
  </mat-card>
</div>
