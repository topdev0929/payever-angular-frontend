import {
  BusinessTypeEnum,
  FlowInterface,
  FlowStateEnum,
  PaymentMethodEnum,
  PaymentMethodVariantEnum,
  SalutationEnum,
} from '@pe/checkout/types';
import { cloneDeep } from '@pe/checkout/utils';

export const flowWithPaymentOptionsFixture: () => FlowInterface = () => cloneDeep<FlowInterface>({
  id: 'flow-id',
  amount: 1000,
  currency: 'EUR',
  reference: 'reference',
  total: 1000,
  cart: [],
  billingAddress: {
    city: 'Düsseldorf',
    country: 'DE',
    email: 'customer2000@email.de',
    firstName: 'Test',
    lastName: 'User',
    phone: null,
    salutation: SalutationEnum.SALUTATION_MRS,
    street: 'Berliner Allee 1',
    streetName: 'Berliner Allee',
    streetNumber: '1',
    zipCode: '40212',
    organizationName: null,
  },
  deliveryFee: 0,
  forceLegacyCartStep: true,
  forceLegacyUseInventory: true,
  state: FlowStateEnum.PROGRESS,
  apiCall: {
    id: 'apiCall-id',
    birthDate: null,
  },
  businessId: 'business-id',
  businessName: 'DE',
  businessCountry: 'DE',
  businessIban: 'business-iban',
  businessAddressLine: 'Marthastraße 20, 90482, Nürnberg, DE',
  businessType: BusinessTypeEnum.B2C,
  channel: 'link',
  channelSetId: 'channel-set-id',
  channelType: 'checkout',
  connectionId: 'stripe-dd-connections-id',
  paymentOptions: [
    {
      name: 'stripe_directdebit.name',
      paymentMethod: PaymentMethodEnum.STRIPE_DIRECTDEBIT,
      max: 100000,
      min: 0,
      fixedFee: 0.25,
      acceptFee: false,
      settings: null,
      slug: 'slug',
      variableFee: 2.9,
      shareBagEnabled: true,
      connections: [
        {
          id: 'stripe-dd-connections-id',
          default: false,
          name: 'stripe-dd-connections-name',
          merchantCoversFee: null,
          shippingAddressAllowed: true,
          shippingAddressEquality: false,
          version: PaymentMethodVariantEnum.Default,
        },
      ],
    },
  ],
});
