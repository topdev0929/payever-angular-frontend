<ng-container *ngIf="vm$ | async as vm">
  <div
    class="alert alert-dismissible alert-danger"
    *ngIf="vm.message">
    <button
      type="button"
      class="close"
      (click)="clearMessage()">
      <svg class="icon icon-16">
        <use
          [attr.xmlns:xlink]="'http://www.w3.org/1999/xlink'"
          [attr.xlink:href]="'#icon-trashcan-16'"></use>
      </svg>
    </button>
    <span [innerHtml]="vm.message"></span>
  </div>

  <form
    class="form-table form-table-checkout"
    novalidate
    [formGroup]="formGroup"
    analyticsForm
    (ngSubmit)="submit()">
    <div class="form-fieldset-new">
      <mat-form-field class="col-xs-12">
        <mat-label i18n="@@user.form.label.email"> Email </mat-label>
        <input
          matInput
          formControlName="email"
          type="text" />
        <button
          matSuffix
          type="button"
          tabIndex="-1"
          class="btn btn-link mat-button-no-padding mat-button-link"
          i18n="@@user.action.login_as_guest"
          (click)="navigateToGuest()">
          Continue as guest
        </button>
      </mat-form-field>

      <mat-form-field class="col-xs-12">
        <mat-label i18n="@@user.form.label.password"> Password </mat-label>
        <input
          matInput
          formControlName="password"
          type="password" />
      </mat-form-field>
    </div>

    <div class="form-group text-right">
      <button
        type="button"
        class="btn btn-link"
        (click)="forgotPassword()">
        <span class="text-muted"> <span i18n="@@user.action.forgot_pwd">user.action.forgot_pwd</span>? </span>
      </button>
    </div>

    <checkout-sdk-continue-button
      i18n-text="@@action.continue"
      text="action.continue"
      type="submit"
      [loading]="vm.loading"
      [tabIndex]="3"
      (clicked)="submit()">
    </checkout-sdk-continue-button>
  </form>
</ng-container>
