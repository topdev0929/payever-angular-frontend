<finexp-ui-card
  [config]="config"
  [forceDefaultStyles]="forceDefaultStyles"
  [asModal]="isExtendedView"
  (modalClosed)="isExtendedView = false">
  <finexp-ui-header-santander
    *ngIf="isExtendedView"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles">
    {{ translations.headerText }}
  </finexp-ui-header-santander>
  <finexp-ui-powered-by-payever
    *ngIf="isExtendedView"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles"></finexp-ui-powered-by-payever>
  <finexp-ui-top-big-text
    *ngIf="isExtendedView"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles">
    <p [innerHTML]="translations.introductionText"></p>
  </finexp-ui-top-big-text>

  <finexp-ui-rate-text
    *ngIf="!isExtendedView"
    [isLoading]="isLoadingRates"
    [error]="error"
    [isShowSelectedRateDetails]="isShowSelectedRateDetails"
    [rate]="currentRate"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles"
    [numColumns]="3">
    <finexp-ui-santander-icon-short></finexp-ui-santander-icon-short>
    <span [innerHTML]="currentRate?.selectedTitle"></span>
  </finexp-ui-rate-text>
  <!-- For overlay modal we always force show dropdown -->
  <finexp-ui-rate-dropdown
    *ngIf="isExtendedView"
    [isLoading]="isLoadingRates"
    [error]="error"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles"
    [numColumns]="3"
    [rate]="currentRate"
    [rates]="rates"
    [isShowSelectedRateDetails]="isShowSelectedRateDetails"
    (rateSelected)="onRateSelected($event)">
  </finexp-ui-rate-dropdown>

  <finexp-ui-regular-text
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles">
    <p
      *ngIf="getCreditFormatted()"
      [innerHTML]="translations.creditDetailsText"></p>
  </finexp-ui-regular-text>
  <finexp-ui-show-checkout-wrapper-button
    *ngIf="isMoreInfoButtonVisible"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles"
    (clicked)="onClicked()">
    {{ translations.moreInfoTitle }}
  </finexp-ui-show-checkout-wrapper-button>
  <finexp-ui-show-checkout-wrapper-button
    *ngIf="isShowWrapperButtonVisible && !isMoreInfoButtonVisible"
    [config]="config"
    [forceDefaultStyles]="forceDefaultStyles"
    (clicked)="onClicked()">
    {{ translations.showWrapperTitle }}
  </finexp-ui-show-checkout-wrapper-button>
</finexp-ui-card>
