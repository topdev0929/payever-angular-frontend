<div class="contacts__widgets">

  <div class="contacts__loader" *ngIf="isLoading">
    <mat-spinner [strokeWidth]="2" [diameter]="26"></mat-spinner>
  </div>

  <div class="contacts__image">
    <img [src]="contactInfo.imageUrl" *ngIf="contactInfo?.imageUrl; else defaultImg" alt="img-avatar">
    <ng-template #defaultImg>
      <div class="contacts__default-image">
        <svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140">
          <defs>
            <linearGradient id="contact-info-icon__a" x1="50%" x2="50%" y1="0%" y2="100%">
              <stop offset="0%" stop-color="#A3A9B8"/>
              <stop offset="100%" stop-color="#898994"/>
            </linearGradient>
            <linearGradient id="contact-info-icon__b" x1="50.522%" x2="50.522%" y1="105.31%" y2="-6.354%">
              <stop offset="0%" stop-color="#838895"/>
              <stop offset="100%" stop-color="#A3AAB8"/>
            </linearGradient>
          </defs>
          <g fill="none">
            <circle cx="70" cy="70" r="68.056" stroke="url(#contact-info-icon__a)" stroke-width="3.889"/>
            <path fill="url(#contact-info-icon__b)"
                  d="M73.83 139.897c-1.268.068-2.545.103-3.83.103-1.151 0-2.296-.028-3.434-.083l5.742-.016zM70 0c38.66 0 70 31.34 70 70 0 17.45-6.385 33.408-16.946 45.667-2.63-2.05-5.435-3.286-6.304-3.712-1.365-.667-6.142-3.338-12.967-4.674-6.825-.667-11.602-1.335-15.015-3.338-3.412-2.003-3.412-11.352-3.412-14.69 2.047-2.003 3.412-4.674 4.095-6.01.682-1.335 1.365-9.348 2.047-10.683.683-1.336 2.048-1.336 2.73-2.004 1.365-.667 1.365-3.338 1.365-4.006 0-.668 1.365-5.342 2.048-8.013 0-2.67-1.365-4.674-1.365-4.674l-1.299.636-.066.032s1.365-5.342 2.047-10.016c.683-4.674.683-10.016 0-12.687-.682-2.67-2.047-4.006-2.047-5.342-1.365-1.335-2.73-3.338-4.778-4.674-2.73-.667-5.46-1.335-8.19-2.67-2.73-1.336-6.824-2.671-10.237-2.671-4.095 0-6.142 2.003-8.19 2.003-2.047 0-6.824 1.335-8.19 2.67l-4.094 4.007s-2.048.668-3.413 0c-1.365 1.335-2.73 5.342-3.412 8.013-.683 2.003 0 6.01 0 9.348.682 3.339 1.365 8.68 2.047 10.684 0 0-1.365 0-2.047.667-.683 1.336 0 4.007 0 5.342 0 1.336 2.047 6.01 2.047 8.013s2.048 3.338 2.73 4.006c.683.668 1.365 4.674 2.048 9.348 0 5.342 4.095 8.013 4.095 8.013s.682 10.016-2.73 14.022c-3.413 4.007-11.603 2.671-17.745 5.342-5.627 2.447-10.68 3.213-17.26 8.456C6.646 104.053 0 87.802 0 70 0 31.34 31.34 0 70 0z"/>
          </g>
        </svg>
      </div>
    </ng-template>
  </div>

  <mat-menu #statusesMenu="matMenu" class="add-contact__status-menu">
    <div *ngFor="let status of statuses; let l = last"
         class="add-contact__status-option"
         [class.add-contact__status-option-last]="l"
         (click)="selectStatus(status)">
      <span class="add-contact__status-option-text">{{status.name}}</span>
    </div>
  </mat-menu>

  <div class="contacts__tools">
<!--    <div class="contacts__tool" (click)="openStatusMenu()">-->
<!--      <div class="contacts__tool-icon">-->
<!--        <mat-icon svgIcon="lead"></mat-icon>-->
<!--      </div>-->
<!--      <span class="contacts__tool-label">{{ contactStatus }}</span>-->
<!--      <div [mat-menu-trigger-for]="statusesMenu" #statusTrigger="matMenuTrigger"></div>-->
<!--    </div>-->
    <div class="contacts__tool" (click)="goGroupForm()">
      <div class="contacts__tool-icon">
        <mat-icon svgIcon="group"></mat-icon>
      </div>
      <span class="contacts__tool-label">Group</span>
    </div>
    <div class="contacts__tool" (click)="goEditContactPage()">
      <div class="contacts__tool-icon">
        <mat-icon svgIcon="edit"></mat-icon>
      </div>
      <span class="contacts__tool-label">Edit</span>
    </div>
    <div class="contacts__tool" (click)="goSearch()">
      <div class="contacts__tool-icon">
        <mat-icon svgIcon="search"></mat-icon>
      </div>
      <span class="contacts__tool-label">Search</span>
    </div>
  </div>

  <pe-widget *ngIf="socialIconsWidget" [widget]="socialIconsWidget" [theme]="theme"></pe-widget>
  <pe-widget *ngIf="transactionsWidget" [widget]="transactionsWidget" [theme]="theme"></pe-widget>
  <pe-widget *ngIf="productsWidget" [widget]="productsWidget" [theme]="theme"></pe-widget>
</div>
